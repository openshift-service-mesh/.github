# Istio Downstream Changes
## master branch
| Commit SHA | Title | Upstream PR | Permanent | Comment | Date | Author |
| --- | --- | --- | --- | --- | --- |--- |
| [85e1ac59](https://github.com/openshift-service-mesh/istio/commit/85e1ac59f87159c4ec4d7b6b1978be47773b55e4) | Modifications to Run integration Tests With Sail Operator ([#300](https://github.com/openshift-service-mesh/istio/issues/300)) |  | :x: |  | 2025-04-08 09:24:07 +0200 | Cansin Tartici |
| [6c49cc3b](https://github.com/openshift-service-mesh/istio/commit/6c49cc3be0753f8bd8340be12206751983a6834d) | Update sleep to use quay.io/sail-dev ([#319](https://github.com/openshift-service-mesh/istio/issues/319)) |  | :white_check_mark: | This commit allows RH product docs to link to a quay.io image instead of docker.io when deploying samples. | 2025-03-21 07:15:17 -0400 | Nick Fox |
| [d23d97da](https://github.com/openshift-service-mesh/istio/commit/d23d97dad16d6eb17317b432659ec39c1c08a74b) | Update some examples to use quay.io/sail-dev instead of docker |  | :white_check_mark: | This commit allows RH product docs to link to a quay.io image instead of docker.io when deploying samples. | 2025-03-10 15:32:01 -0400 | Nick Fox |
| [eb93d7db](https://github.com/openshift-service-mesh/istio/commit/eb93d7dbb8e18b4a31dce0d54c9c2ddccc4cf0cf) | Adding SKIP_SETUP SKIP_TEST_RUN and DEPLOY_METALLB to ocp test run script ([#279](https://github.com/openshift-service-mesh/istio/issues/279)) |  | :white_check_mark: | Adding some env var to run script to be able to skip setup and test run. | 2025-02-11 11:15:15 +0100 | Francisco Herrera |
| [c575ca9e](https://github.com/openshift-service-mesh/istio/commit/c575ca9e6f38d7fa435b42656ccde88f7611f329) | Enable istioctl related ambient commands |  | :white_check_mark: | this enables back the istioctl ambient commands. It allows to remove a divergence with upstream code base | 2025-01-24 10:10:12 +0100 | bmangoen |
| [3169415d](https://github.com/openshift-service-mesh/istio/commit/3169415d93cf6c601030b3584df058866789c1f0) | Fix go linter errors ([#230](https://github.com/openshift-service-mesh/istio/issues/230)) |  | :white_check_mark: | this fixes go linter errors when we forced users to set --create-service-account=false when they are using istioctl create-remote-secret. It does not have an upstream PR because it is OpenShift specific | 2024-12-11 15:01:25 +0100 | Brian Mangoenpawiro |
| [24951451](https://github.com/openshift-service-mesh/istio/commit/249514518d98119a959ba4ee2256be6f005d6696) | Set unsupported istioctl commands ([#210](https://github.com/openshift-service-mesh/istio/issues/210)) |  | :white_check_mark: | this allows us to build our own istioctl binaries disabling the commands we do not support. It does not have an upstream PR and we are not sure upstream would accept this | 2024-12-10 16:28:39 +0100 | Brian Mangoenpawiro |
| [34ea3e82](https://github.com/openshift-service-mesh/istio/commit/34ea3e82c6894f0a51f0d5cf1581542292018c24) | Add retry timeouts delay for AWS LB ([#227](https://github.com/openshift-service-mesh/istio/issues/227)) |  | :x: | this fixed an issue of AWS loadbalancer provisioning duration. It does not have an upstream PR (reverted) | 2024-12-10 15:25:26 +0100 | Brian Mangoenpawiro |
| [1ccb4323](https://github.com/openshift-service-mesh/istio/commit/1ccb43235622084f6f53a13c943a404c788614c1) | Add in ocp setup the build of ztunnel image ([#142](https://github.com/openshift-service-mesh/istio/issues/142)) |  | :white_check_mark: | At some point we missed the build of the ztunnel image in the ocp setup script. This commit adds it back. | 2024-09-12 14:05:26 +0200 | Francisco Herrera |
| [22682d54](https://github.com/openshift-service-mesh/istio/commit/22682d548157a7163f1944e3efd4da148b0479c7) | Integration test run: delete profile openshift ([#137](https://github.com/openshift-service-mesh/istio/issues/137)) |  | :white_check_mark: | Deleting istio.test.kube.helm.values=profile=openshift flag because was not needed anymore after changes in upstream repo. | 2024-09-09 13:34:19 +0200 | Francisco Herrera |
| [c26057c6](https://github.com/openshift-service-mesh/istio/commit/c26057c627321c20a2b49dc3b18a47e7ef24e032) | [OSSM-6600](https://issues.redhat.com/browse/OSSM-6600) Avoid failures to be hidden on integration test ([#30](https://github.com/openshift-service-mesh/istio/issues/30)) |  | :white_check_mark: | This commit adds a check to the integration test run script to avoid failures to be hidden. | 2024-07-18 12:58:40 +0200 | Francisco Herrera |
| [d5cabdb7](https://github.com/openshift-service-mesh/istio/commit/d5cabdb7c54a94884d22c56d97a4f8148aceaf0b) | Push distroless images when helm integration test are executed ([#27](https://github.com/openshift-service-mesh/istio/issues/27)) |  | :white_check_mark: | This commit adds the push of distroless images used by integration tests. | 2024-05-22 18:29:01 +0200 | Francisco Herrera |
| [ec352212](https://github.com/openshift-service-mesh/istio/commit/ec35221294d8119948cd34a282eaebc2cd264fd2) | Changes to report junit file and results from the running test suite ([#15](https://github.com/openshift-service-mesh/istio/issues/15)) |  | :white_check_mark: | This commit adds the generation of a junit file with the results of the running test suite. | 2024-05-14 13:54:50 +0200 | Francisco Herrera |
| [1e1816c4](https://github.com/openshift-service-mesh/istio/commit/1e1816c4c3833b802feec9c36d74df7c0289e3ee) | Fix ocp running test script affected by upstream test ([#17](https://github.com/openshift-service-mesh/istio/issues/17)) |  | :white_check_mark: | Change nonDistrolessTargets to match changes in upstream repo. | 2024-05-10 15:12:57 +0200 | Francisco Herrera |
| [29681e9f](https://github.com/openshift-service-mesh/istio/commit/29681e9fc9dfafaf292538ed890ea97823b98051) | [OSSM-6313](https://issues.redhat.com/browse/OSSM-6313) Update getAddressTimeout in our fork ([#12](https://github.com/openshift-service-mesh/istio/issues/12)) |  | :white_check_mark: | This commit updates the getAddressTimeout value in our fork to avoid specific failures on OCP. | 2024-05-08 17:22:43 +0200 | Francisco Herrera |
| [db100e5a](https://github.com/openshift-service-mesh/istio/commit/db100e5aaeea4ee6df92552e3f5ac196b423bf3f) | [OSSM-4505](https://issues.redhat.com/browse/OSSM-4505) Add script to run integration test againt OCP cluster ([#4](https://github.com/openshift-service-mesh/istio/issues/4)) |  | :white_check_mark: | This commit adds a script to run integration tests against OCP cluster. | 2024-04-26 13:40:16 +0200 | Francisco Herrera |
| [6eba7064](https://github.com/openshift-service-mesh/istio/commit/6eba70643f93f95f1f51d8aa9750ee0dd7934453) | [OSSM-8998](https://issues.redhat.com/browse/OSSM-8998) Disable istioctl commands with building ldflags ([#312](https://github.com/openshift-service-mesh/istio/issues/312)) |  | :white_check_mark: | this allows us to build our own istioctl binaries disabling the commands we do not support without any hardcoded function. It does not have an upstream PR and we are not sure upstream would accept this | 2025-04-18 10:04:01 +0200 | Brian Mangoenpawiro |
| [7754f9ed](https://github.com/openshift-service-mesh/istio/commit/7754f9edccd192c7f3438a75f2a617a722d326f3) | Update bookinfo image version |  | :x: |  | 2025-04-20 09:48:40 +0300 | Maxim Babushkin |
| [c448aa2c](https://github.com/openshift-service-mesh/istio/commit/c448aa2c65742a99b568b824bfdb93318e445c6a) | Add copyright banner ([#359](https://github.com/openshift-service-mesh/istio/issues/359)) |  | :white_check_mark: | this fixes the linter issue for ossm_custom_cmd.go file | 2025-04-29 09:37:48 +0200 | Brian Mangoenpawiro |
| [82039538](https://github.com/openshift-service-mesh/istio/commit/8203953870191224c87913d9b3233d265a68e715) | Fixing Failing Converter Tests |  | :x: |  | 2025-04-14 18:11:31 +0200 | ctartici |
| [0ec714be](https://github.com/openshift-service-mesh/istio/commit/0ec714bea3bd0513eb273c7daf35b9d39b02230d) | change timeout value 2h if test is running on sail-operator |  | :x: |  | 2025-05-05 20:18:37 +0200 | ctartici |
| [213efb7b](https://github.com/openshift-service-mesh/istio/commit/213efb7b982a0dc4a3522925504b573b0797aeb0) | fix for release directory structure to patch config |  | :x: |  | 2025-05-05 13:54:29 +0200 | ctartici |
| [269f9470](https://github.com/openshift-service-mesh/istio/commit/269f94707cd8e76b68ffd06ddbfd9dfbeed4720e) | small fix to get latest istio version |  | :x: |  | 2025-04-30 13:32:41 +0200 | ctartici |
| [98514e62](https://github.com/openshift-service-mesh/istio/commit/98514e627de1517ba86ed66e6064d75e26f5a0b6) | modify cleanup function with wait |  | :x: |  | 2025-05-06 10:46:07 +0200 | ctartici |
| [01618eb1](https://github.com/openshift-service-mesh/istio/commit/01618eb12ba6cfa93a0467c860e1df5d6b226a58) | "Revert ""Add retry timeouts delay for AWS LB ([#227](https://github.com/openshift-service-mesh/istio/issues/227))"" ([#374](https://github.com/openshift-service-mesh/istio/issues/374))" |  | :white_check_mark: | this removes the temporary fix of AWS LB delay duration. It allows to remove a divergence with upstream code base | 2025-05-09 16:08:19 +0200 | Brian Mangoenpawiro |
| [13f5eea6](https://github.com/openshift-service-mesh/istio/commit/13f5eea6fa8b768e8da64e71f5d629506ae8cf1e) | Add ambient test flow ([#390](https://github.com/openshift-service-mesh/istio/issues/390)) |  | :x: |  | 2025-05-26 18:22:47 +0300 | Maxim Babushkin |
## release-1.24 branch
| Commit SHA | Title | Upstream PR | Permanent | Comment | Date | Author |
| --- | --- | --- | --- | --- | --- |--- |
| [8b08fdb2](https://github.com/openshift-service-mesh/istio/commit/8b08fdb2a41a6fb3df6099eefea53705c9583a43) | Fix tests resources cleanup for Openshift ([#55638](https://github.com/openshift-service-mesh/istio/issues/55638)) ([#344](https://github.com/openshift-service-mesh/istio/issues/344)) | https://github.com/istio/istio/pull/55638 | :x: | Probably false positive. The changes are available upstream. | 2025-04-09 14:36:47 +0200 | Filip Brychta |
| [30015619](https://github.com/openshift-service-mesh/istio/commit/30015619f01d1d3508f60cbf91fa8773969526bb) | Add flag to be compliant with attribute handling behavior in the specification ([#341](https://github.com/openshift-service-mesh/istio/issues/341)) | https://github.com/istio/istio/pull/55746 | :x: | We need this to support the Gateway API. The upstream PR is still pending. | 2025-04-08 12:11:18 +0800 | Yann Liu |
| [25dfdc58](https://github.com/openshift-service-mesh/istio/commit/25dfdc58014fbc05901aff6f75c978b7f8a73f1c) | Enable CA Bundle injection in only Gateway Namespaces ([#335](https://github.com/openshift-service-mesh/istio/issues/335)) |  | :x: | No direct upstream PR. This feature is a temp fix for the Ingress Team to avoid installing certs into every namespace in the cluster even if there are no Gateways or istio related resources there. This PR can be removed when the upstream Kubernetes API ClusterTrustBundle is out of alpha/beta and we/customers have migrated to use it. Time frame semi unknown(6 months+). (https://kubernetes.io/docs/reference/access-authn-authz/certificate-signing-requests/#cluster-trust-bundles) | 2025-04-04 13:45:17 +0200 | Aslak Knutsen |
| [48f4c4dc](https://github.com/openshift-service-mesh/istio/commit/48f4c4dc059c18c5090965744edf9d46fda0caa7) | [OSSM-8825](https://issues.redhat.com/browse/OSSM-8825) add integration test for gateway instance ([#338](https://github.com/openshift-service-mesh/istio/issues/338)) |  | :white_check_mark: | this is an integration test that aims to cover most aspects of our integration with OCP for delivering Gateway API functionality. It does not have an upstream PR and will likely have to be cherry-picked for a while | 2025-04-03 14:04:41 +0200 | Daniel Grimm |
| [c7a70df5](https://github.com/openshift-service-mesh/istio/commit/c7a70df550c5537362f4865ef859003a914f2150) | istiod ca: custom ConfigMap name for CA root cert ([#333](https://github.com/openshift-service-mesh/istio/issues/333)) | https://github.com/istio/istio/pull/54971 | :x: | we need this to support overlapping namespaces ([OSSM-8206](https://issues.redhat.com/browse/OSSM-8206)). upstream PR is still pending | 2025-04-03 12:31:02 +0200 | Daniel Grimm |
| [b2738632](https://github.com/openshift-service-mesh/istio/commit/b273863293adbcaec326943c3eae745031ce72f5) | [release-1.24] Update proxy ([#332](https://github.com/openshift-service-mesh/istio/issues/332)) |  | :white_check_mark: | Using proxy version from our fork. | 2025-03-31 12:19:59 +0200 | Filip Brychta |
| [187165e8](https://github.com/openshift-service-mesh/istio/commit/187165e80545d6a507959a45500b20ed00c32396) | [release-1.24] - Fix TestCNIRaceRepair test for Openshift ([#55658](https://github.com/openshift-service-mesh/istio/issues/55658)) |  | :x: |  | 2025-03-26 05:46:49 +0200 | Maxim Babushkin |
| [f764d9de](https://github.com/openshift-service-mesh/istio/commit/f764d9dec48e35a1e83bb6001f2fecb00b97e0c5) | Release 1.24 fix test services reachability and flackiness ([#55642](https://github.com/openshift-service-mesh/istio/issues/55642)) |  | :x: |  | 2025-03-24 23:18:48 +0200 | Maxim Babushkin |
| [1d858109](https://github.com/openshift-service-mesh/istio/commit/1d85810990b51800489f48d5787a10d9edf49695) | Update sleep to use quay.io/sail-dev ([#323](https://github.com/openshift-service-mesh/istio/issues/323)) |  | :white_check_mark: | This commit allows RH product docs to link to a quay.io image instead of docker.io when deploying samples. | 2025-03-21 17:23:36 +0100 | OpenShift Cherrypick Robot |
| [8b9d7722](https://github.com/openshift-service-mesh/istio/commit/8b9d7722e7fa1fe2c201393c6f97b9d05a7543c3) | Update some examples to use quay.io/sail-dev instead of docker |  | :white_check_mark: | This commit allows RH product docs to link to a quay.io image instead of docker.io when deploying samples. | 2025-03-10 15:32:01 -0400 | Nick Fox |
| [5ed26ac9](https://github.com/openshift-service-mesh/istio/commit/5ed26ac96064259f2bf44cb77ec56a5f104c2702) | Fix CVE-2025-22868 ([#307](https://github.com/openshift-service-mesh/istio/issues/307)) | https://github.com/istio/istio/pull/55594 | :x: | upstream commit is already included in this branch | 2025-03-04 12:48:26 +0100 | Daniel Grimm |
| [68a4ddf0](https://github.com/openshift-service-mesh/istio/commit/68a4ddf0e03a4993ad05aa56aba15368b69648e8) | Remove ARM support on proxy update script ([#301](https://github.com/openshift-service-mesh/istio/issues/301)) |  | :white_check_mark: | We don't build proxy in ARM, thus this script currently always fail. | 2025-02-24 11:29:15 -0500 | Jonh Wendell |
| [f1d1604f](https://github.com/openshift-service-mesh/istio/commit/f1d1604f82a53d9d9d6f2ecc544f9ac877049d23) | Fix file permissions ([#297](https://github.com/openshift-service-mesh/istio/issues/297)) |  | :white_check_mark: | Editing a script for OCP which is not used upstream. | 2025-02-20 12:53:11 +0100 | Filip Brychta |
| [f96e71bd](https://github.com/openshift-service-mesh/istio/commit/f96e71bd24172cb6c2293c960ad32572625148e6) | [release-1.24] Adding OCP scripts for int tests from master branch ([#295](https://github.com/openshift-service-mesh/istio/issues/295)) |  | :white_check_mark: | Adding a script for OCP which is not used upstream. | 2025-02-20 09:52:30 +0100 | Filip Brychta |
| [5a1358dc](https://github.com/openshift-service-mesh/istio/commit/5a1358dc85a693976a707fd14821c90bcb720f92) | gateway-api: allow disabling manual deployments ([#281](https://github.com/openshift-service-mesh/istio/issues/281)) | https://github.com/istio/istio/pull/55053 | :x: | merged upstream and will be included in 1.26 | 2025-02-12 16:51:29 +0100 | Daniel Grimm |
| [77fed323](https://github.com/openshift-service-mesh/istio/commit/77fed3235006ea56f860aa2864208092eb284908) | [OSSM-8342](https://issues.redhat.com/browse/OSSM-8342): Use our proxy ([#225](https://github.com/openshift-service-mesh/istio/issues/225)) |  | :white_check_mark: | We need to use our proxy image for the tests. | 2025-01-15 12:56:16 -0500 | Jonh Wendell |
| [2832ac78](https://github.com/openshift-service-mesh/istio/commit/2832ac7842f624385d6fd91487feb588f6d7cb77) | [release-1.24] Fixes to make tests work in our prow ([#222](https://github.com/openshift-service-mesh/istio/issues/222)) |  | :white_check_mark: | This commit is needed to make the tests work in our prow. It will be removed when we have a better solution. | 2025-01-08 17:22:51 -0500 | Jonh Wendell |
| [6e5023d3](https://github.com/openshift-service-mesh/istio/commit/6e5023d38f10804bc5bbb96d1479082a8beac93c) | [release-1.24] Set unsupported istioctl commands ([#210](https://github.com/openshift-service-mesh/istio/issues/210)) ([#228](https://github.com/openshift-service-mesh/istio/issues/228)) |  | :white_check_mark: | this allows us to build our own istioctl binaries disabling the commands we do not support. It does not have an upstream PR and we are not sure upstream would accept this | 2024-12-11 19:15:48 +0100 | Brian Mangoenpawiro |
| [b44a8d8b](https://github.com/openshift-service-mesh/istio/commit/b44a8d8b4c95598815237a0a857a26bfd4a6bc85) | [release-1.24] [OSSM-8998](https://issues.redhat.com/browse/OSSM-8998) Disable istioctl commands with building ldflags ([#355](https://github.com/openshift-service-mesh/istio/issues/355)) |  | :white_check_mark: | this allows us to build our own istioctl binaries disabling the commands we do not support without any hardcoded function. It does not have an upstream PR and we are not sure upstream would accept this | 2025-05-05 10:23:50 +0200 | Brian Mangoenpawiro |
| [e6cdeceb](https://github.com/openshift-service-mesh/istio/commit/e6cdecebe16d23975b3b6acee123af0e7f9396b9) | Remove retry timeouts delay for AWS LB ([#376](https://github.com/openshift-service-mesh/istio/issues/376)) |  | :x: | this removes the temporary fix of AWS LB delay duration. It allows to remove a divergence with upstream code base | 2025-05-07 17:09:12 +0200 | Brian Mangoenpawiro |
| [0cb32930](https://github.com/openshift-service-mesh/istio/commit/0cb3293059c795e8f3aca38cfcd25a3db4101bf1) | Fix listener addr duplication for dualStack svc with IPv6 as primary ([#56151](https://github.com/openshift-service-mesh/istio/issues/56151)) ([#56188](https://github.com/openshift-service-mesh/istio/issues/56188)) ([#385](https://github.com/openshift-service-mesh/istio/issues/385)) |  | :x: |  | 2025-05-13 17:28:51 +0200 | Filip Brychta |
| [1de93051](https://github.com/openshift-service-mesh/istio/commit/1de930513cb45ac30272ddce15d640ea7e4bf3d6) | bump golang.org/x/net ([#56238](https://github.com/openshift-service-mesh/istio/issues/56238)) ([#384](https://github.com/openshift-service-mesh/istio/issues/384)) |  | :x: |  | 2025-05-13 15:35:06 +0200 | Filip Brychta |
| [73b8a0fb](https://github.com/openshift-service-mesh/istio/commit/73b8a0fbf58d8dc6b66a76b07059eb97c8612a01) | [release-1.24] Automator: Update proxy ([#394](https://github.com/openshift-service-mesh/istio/issues/394)) |  | :x: |  | 2025-06-13 07:33:05 +0200 | openshift-service-mesh-bot |
